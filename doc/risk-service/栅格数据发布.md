
# 发布原理
栅格数据使用 PostGIS 存储管理，
因为GeoServer 原生不支持直接发布 PostGIS的栅格数据（GeoServer支持PostGIS的矢量数据发布），
所以通过 Java 将 栅格数据进行中转发布。
具体步骤：
1. MyBatis 将 ST_AsTIFF(rast) 字段映射到 byte[] 数组
2. byte[] 变成 InputStream
3. 使用自己写的 GeoserverManager 通过 REST API 发布栅格数据

# 功能说明
1. 可以重复发布，会覆盖原来的图层
2. 发布的栅格数据自己就是一个 store，同时这个 store 也只有一个图层

# 此功能不足
因为使用 byte[] 对 BLOB 对象进行接受，很可能收到机器内存限制，导致数据发布失败。
未来可以尝试使用 InputStream 对 BLOB 对象进行接收，提高程序可靠性。
已经尝试在 MyBatis 中直接使用 InputStream ，但是运行出错，原因未知。
---
# 关于 Postgresql JDBC 的二进制字段
一般是直接 getBytes 获取 byte[]，
我在想如果获取InputStream 是不是更高效，但是通过 getBinaryStream 之后发现
返回的是一个 ByteArrayInputStream 底层还是一个字节数组。
所以这个问题还是先放一放吧，使用 byte[] 去接收 PGSQL 的二进制字段数据